import{g as Zt,o as Gt,u as vt,t as Bt,r as qt,c as Qt,a as _,w as K,b as Jt,d as S,e as I,f as Y,h as E,i as P,n as we,j as H,k as J,l as O,m as f,p as d,q as X,s as R,v as xe,F as ne,x as de,y as bt,z as $e,A as Ne,B as wt,C as _e,D as en,E as tn,G as nn}from"./index-DEPv8ifa.js";import{R as on,P as an,E as sn,V as T,M as B,T as q,Q as rt,S as ct,a as L,b as ln,C as rn,D as je,A as cn,c as _t,N as Et,d as Pt,e as un,f as dn,O as mn,g as pn,h as fn,i as hn,j as yn,k as gn,l as vn,m as bn,n as wn,W as _n,o as En,t as Pn,p as xn,q as Mn,r as Tn}from"./onResize-DnKIDDtR.js";const ut={type:"change"},Re={type:"start"},dt={type:"end"},ge=new on,mt=new an,On=Math.cos(70*ln.DEG2RAD);class Sn extends sn{constructor(n,l){super(),this.object=n,this.domElement=l,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new T,this.cursor=new T,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:B.ROTATE,MIDDLE:B.DOLLY,RIGHT:B.PAN},this.touches={ONE:q.ROTATE,TWO:q.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return i.phi},this.getAzimuthalAngle=function(){return i.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(t){t.addEventListener("keydown",Ae),this._domElementKeyEvents=t},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",Ae),this._domElementKeyEvents=null},this.saveState=function(){e.target0.copy(e.target),e.position0.copy(e.object.position),e.zoom0=e.object.zoom},this.reset=function(){e.target.copy(e.target0),e.object.position.copy(e.position0),e.object.zoom=e.zoom0,e.object.updateProjectionMatrix(),e.dispatchEvent(ut),e.update(),s=a.NONE},this.update=function(){const t=new T,c=new rt().setFromUnitVectors(n.up,new T(0,1,0)),p=c.clone().invert(),v=new T,M=new rt,F=new T,C=2*Math.PI;return function(Wt=null){const it=e.object.position;t.copy(it).sub(e.target),t.applyQuaternion(c),i.setFromVector3(t),e.autoRotate&&s===a.NONE&&ae(Ct(Wt)),e.enableDamping?(i.theta+=u.theta*e.dampingFactor,i.phi+=u.phi*e.dampingFactor):(i.theta+=u.theta,i.phi+=u.phi);let V=e.minAzimuthAngle,N=e.maxAzimuthAngle;isFinite(V)&&isFinite(N)&&(V<-Math.PI?V+=C:V>Math.PI&&(V-=C),N<-Math.PI?N+=C:N>Math.PI&&(N-=C),V<=N?i.theta=Math.max(V,Math.min(N,i.theta)):i.theta=i.theta>(V+N)/2?Math.max(V,i.theta):Math.min(N,i.theta)),i.phi=Math.max(e.minPolarAngle,Math.min(e.maxPolarAngle,i.phi)),i.makeSafe(),e.enableDamping===!0?e.target.addScaledVector(b,e.dampingFactor):e.target.add(b),e.target.sub(e.cursor),e.target.clampLength(e.minTargetRadius,e.maxTargetRadius),e.target.add(e.cursor),e.zoomToCursor&&me||e.object.isOrthographicCamera?i.radius=Le(i.radius):i.radius=Le(i.radius*g),t.setFromSpherical(i),t.applyQuaternion(p),it.copy(e.target).add(t),e.object.lookAt(e.target),e.enableDamping===!0?(u.theta*=1-e.dampingFactor,u.phi*=1-e.dampingFactor,b.multiplyScalar(1-e.dampingFactor)):(u.set(0,0,0),b.set(0,0,0));let he=!1;if(e.zoomToCursor&&me){let le=null;if(e.object.isPerspectiveCamera){const ie=t.length();le=Le(ie*g);const ye=ie-le;e.object.position.addScaledVector(Fe,ye),e.object.updateMatrixWorld()}else if(e.object.isOrthographicCamera){const ie=new T(U.x,U.y,0);ie.unproject(e.object),e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/g)),e.object.updateProjectionMatrix(),he=!0;const ye=new T(U.x,U.y,0);ye.unproject(e.object),e.object.position.sub(ye).add(ie),e.object.updateMatrixWorld(),le=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),e.zoomToCursor=!1;le!==null&&(this.screenSpacePanning?e.target.set(0,0,-1).transformDirection(e.object.matrix).multiplyScalar(le).add(e.object.position):(ge.origin.copy(e.object.position),ge.direction.set(0,0,-1).transformDirection(e.object.matrix),Math.abs(e.object.up.dot(ge.direction))<On?n.lookAt(e.target):(mt.setFromNormalAndCoplanarPoint(e.object.up,e.target),ge.intersectPlane(mt,e.target))))}else e.object.isOrthographicCamera&&(he=g!==1,he&&(e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/g)),e.object.updateProjectionMatrix()));return g=1,me=!1,he||v.distanceToSquared(e.object.position)>r||8*(1-M.dot(e.object.quaternion))>r||F.distanceToSquared(e.target)>0?(e.dispatchEvent(ut),v.copy(e.object.position),M.copy(e.object.quaternion),F.copy(e.target),!0):!1}}(),this.dispose=function(){e.domElement.removeEventListener("contextmenu",st),e.domElement.removeEventListener("pointerdown",tt),e.domElement.removeEventListener("pointercancel",se),e.domElement.removeEventListener("wheel",nt),e.domElement.removeEventListener("pointermove",ke),e.domElement.removeEventListener("pointerup",se),e._domElementKeyEvents!==null&&(e._domElementKeyEvents.removeEventListener("keydown",Ae),e._domElementKeyEvents=null)};const e=this,a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=a.NONE;const r=1e-6,i=new ct,u=new ct;let g=1;const b=new T,h=new L,m=new L,y=new L,w=new L,A=new L,z=new L,$=new L,D=new L,W=new L,Fe=new T,U=new L;let me=!1;const x=[],oe={};let Oe=!1;function Ct(t){return t!==null?2*Math.PI/60*e.autoRotateSpeed*t:2*Math.PI/60/60*e.autoRotateSpeed}function pe(t){const c=Math.abs(t*.01);return Math.pow(.95,e.zoomSpeed*c)}function ae(t){u.theta-=t}function fe(t){u.phi-=t}const He=function(){const t=new T;return function(p,v){t.setFromMatrixColumn(v,0),t.multiplyScalar(-p),b.add(t)}}(),Ke=function(){const t=new T;return function(p,v){e.screenSpacePanning===!0?t.setFromMatrixColumn(v,1):(t.setFromMatrixColumn(v,0),t.crossVectors(e.object.up,t)),t.multiplyScalar(p),b.add(t)}}(),Z=function(){const t=new T;return function(p,v){const M=e.domElement;if(e.object.isPerspectiveCamera){const F=e.object.position;t.copy(F).sub(e.target);let C=t.length();C*=Math.tan(e.object.fov/2*Math.PI/180),He(2*p*C/M.clientHeight,e.object.matrix),Ke(2*v*C/M.clientHeight,e.object.matrix)}else e.object.isOrthographicCamera?(He(p*(e.object.right-e.object.left)/e.object.zoom/M.clientWidth,e.object.matrix),Ke(v*(e.object.top-e.object.bottom)/e.object.zoom/M.clientHeight,e.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),e.enablePan=!1)}}();function Se(t){e.object.isPerspectiveCamera||e.object.isOrthographicCamera?g/=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function Xe(t){e.object.isPerspectiveCamera||e.object.isOrthographicCamera?g*=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function Ce(t,c){if(!e.zoomToCursor)return;me=!0;const p=e.domElement.getBoundingClientRect(),v=t-p.left,M=c-p.top,F=p.width,C=p.height;U.x=v/F*2-1,U.y=-(M/C)*2+1,Fe.set(U.x,U.y,1).unproject(e.object).sub(e.object.position).normalize()}function Le(t){return Math.max(e.minDistance,Math.min(e.maxDistance,t))}function We(t){h.set(t.clientX,t.clientY)}function Lt(t){Ce(t.clientX,t.clientX),$.set(t.clientX,t.clientY)}function Ze(t){w.set(t.clientX,t.clientY)}function kt(t){m.set(t.clientX,t.clientY),y.subVectors(m,h).multiplyScalar(e.rotateSpeed);const c=e.domElement;ae(2*Math.PI*y.x/c.clientHeight),fe(2*Math.PI*y.y/c.clientHeight),h.copy(m),e.update()}function At(t){D.set(t.clientX,t.clientY),W.subVectors(D,$),W.y>0?Se(pe(W.y)):W.y<0&&Xe(pe(W.y)),$.copy(D),e.update()}function jt(t){A.set(t.clientX,t.clientY),z.subVectors(A,w).multiplyScalar(e.panSpeed),Z(z.x,z.y),w.copy(A),e.update()}function Rt(t){Ce(t.clientX,t.clientY),t.deltaY<0?Xe(pe(t.deltaY)):t.deltaY>0&&Se(pe(t.deltaY)),e.update()}function Dt(t){let c=!1;switch(t.code){case e.keys.UP:t.ctrlKey||t.metaKey||t.shiftKey?fe(2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):Z(0,e.keyPanSpeed),c=!0;break;case e.keys.BOTTOM:t.ctrlKey||t.metaKey||t.shiftKey?fe(-2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):Z(0,-e.keyPanSpeed),c=!0;break;case e.keys.LEFT:t.ctrlKey||t.metaKey||t.shiftKey?ae(2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):Z(e.keyPanSpeed,0),c=!0;break;case e.keys.RIGHT:t.ctrlKey||t.metaKey||t.shiftKey?ae(-2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):Z(-e.keyPanSpeed,0),c=!0;break}c&&(t.preventDefault(),e.update())}function Ge(t){if(x.length===1)h.set(t.pageX,t.pageY);else{const c=G(t),p=.5*(t.pageX+c.x),v=.5*(t.pageY+c.y);h.set(p,v)}}function Be(t){if(x.length===1)w.set(t.pageX,t.pageY);else{const c=G(t),p=.5*(t.pageX+c.x),v=.5*(t.pageY+c.y);w.set(p,v)}}function qe(t){const c=G(t),p=t.pageX-c.x,v=t.pageY-c.y,M=Math.sqrt(p*p+v*v);$.set(0,M)}function Vt(t){e.enableZoom&&qe(t),e.enablePan&&Be(t)}function Nt(t){e.enableZoom&&qe(t),e.enableRotate&&Ge(t)}function Qe(t){if(x.length==1)m.set(t.pageX,t.pageY);else{const p=G(t),v=.5*(t.pageX+p.x),M=.5*(t.pageY+p.y);m.set(v,M)}y.subVectors(m,h).multiplyScalar(e.rotateSpeed);const c=e.domElement;ae(2*Math.PI*y.x/c.clientHeight),fe(2*Math.PI*y.y/c.clientHeight),h.copy(m)}function Je(t){if(x.length===1)A.set(t.pageX,t.pageY);else{const c=G(t),p=.5*(t.pageX+c.x),v=.5*(t.pageY+c.y);A.set(p,v)}z.subVectors(A,w).multiplyScalar(e.panSpeed),Z(z.x,z.y),w.copy(A)}function et(t){const c=G(t),p=t.pageX-c.x,v=t.pageY-c.y,M=Math.sqrt(p*p+v*v);D.set(0,M),W.set(0,Math.pow(D.y/$.y,e.zoomSpeed)),Se(W.y),$.copy(D);const F=(t.pageX+c.x)*.5,C=(t.pageY+c.y)*.5;Ce(F,C)}function It(t){e.enableZoom&&et(t),e.enablePan&&Je(t)}function Yt(t){e.enableZoom&&et(t),e.enableRotate&&Qe(t)}function tt(t){e.enabled!==!1&&(x.length===0&&(e.domElement.setPointerCapture(t.pointerId),e.domElement.addEventListener("pointermove",ke),e.domElement.addEventListener("pointerup",se)),Kt(t),t.pointerType==="touch"?at(t):zt(t))}function ke(t){e.enabled!==!1&&(t.pointerType==="touch"?Ht(t):$t(t))}function se(t){switch(Xt(t),x.length){case 0:e.domElement.releasePointerCapture(t.pointerId),e.domElement.removeEventListener("pointermove",ke),e.domElement.removeEventListener("pointerup",se),e.dispatchEvent(dt),s=a.NONE;break;case 1:const c=x[0],p=oe[c];at({pointerId:c,pageX:p.x,pageY:p.y});break}}function zt(t){let c;switch(t.button){case 0:c=e.mouseButtons.LEFT;break;case 1:c=e.mouseButtons.MIDDLE;break;case 2:c=e.mouseButtons.RIGHT;break;default:c=-1}switch(c){case B.DOLLY:if(e.enableZoom===!1)return;Lt(t),s=a.DOLLY;break;case B.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enablePan===!1)return;Ze(t),s=a.PAN}else{if(e.enableRotate===!1)return;We(t),s=a.ROTATE}break;case B.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enableRotate===!1)return;We(t),s=a.ROTATE}else{if(e.enablePan===!1)return;Ze(t),s=a.PAN}break;default:s=a.NONE}s!==a.NONE&&e.dispatchEvent(Re)}function $t(t){switch(s){case a.ROTATE:if(e.enableRotate===!1)return;kt(t);break;case a.DOLLY:if(e.enableZoom===!1)return;At(t);break;case a.PAN:if(e.enablePan===!1)return;jt(t);break}}function nt(t){e.enabled===!1||e.enableZoom===!1||s!==a.NONE||(t.preventDefault(),e.dispatchEvent(Re),Rt(Ut(t)),e.dispatchEvent(dt))}function Ut(t){const c=t.deltaMode,p={clientX:t.clientX,clientY:t.clientY,deltaY:t.deltaY};switch(c){case 1:p.deltaY*=16;break;case 2:p.deltaY*=100;break}return t.ctrlKey&&!Oe&&(p.deltaY*=10),p}function Ft(t){t.key==="Control"&&(Oe=!0,e.domElement.getRootNode().addEventListener("keyup",ot,{passive:!0,capture:!0}))}function ot(t){t.key==="Control"&&(Oe=!1,e.domElement.getRootNode().removeEventListener("keyup",ot,{passive:!0,capture:!0}))}function Ae(t){e.enabled===!1||e.enablePan===!1||Dt(t)}function at(t){switch(lt(t),x.length){case 1:switch(e.touches.ONE){case q.ROTATE:if(e.enableRotate===!1)return;Ge(t),s=a.TOUCH_ROTATE;break;case q.PAN:if(e.enablePan===!1)return;Be(t),s=a.TOUCH_PAN;break;default:s=a.NONE}break;case 2:switch(e.touches.TWO){case q.DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;Vt(t),s=a.TOUCH_DOLLY_PAN;break;case q.DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;Nt(t),s=a.TOUCH_DOLLY_ROTATE;break;default:s=a.NONE}break;default:s=a.NONE}s!==a.NONE&&e.dispatchEvent(Re)}function Ht(t){switch(lt(t),s){case a.TOUCH_ROTATE:if(e.enableRotate===!1)return;Qe(t),e.update();break;case a.TOUCH_PAN:if(e.enablePan===!1)return;Je(t),e.update();break;case a.TOUCH_DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;It(t),e.update();break;case a.TOUCH_DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;Yt(t),e.update();break;default:s=a.NONE}}function st(t){e.enabled!==!1&&t.preventDefault()}function Kt(t){x.push(t.pointerId)}function Xt(t){delete oe[t.pointerId];for(let c=0;c<x.length;c++)if(x[c]==t.pointerId){x.splice(c,1);return}}function lt(t){let c=oe[t.pointerId];c===void 0&&(c=new L,oe[t.pointerId]=c),c.set(t.pageX,t.pageY)}function G(t){const c=t.pointerId===x[0]?x[1]:x[0];return oe[c]}e.domElement.addEventListener("contextmenu",st),e.domElement.addEventListener("pointerdown",tt),e.domElement.addEventListener("pointercancel",se),e.domElement.addEventListener("wheel",nt,{passive:!1}),e.domElement.getRootNode().addEventListener("keydown",Ft,{passive:!0,capture:!0}),this.update()}}const Cn=o=>{const n=new rn(13421772),l=new je(n,3),e=new je(n,5),a=new je(n,3);l.position.set(-5,2,5),e.position.set(-5,2,5),a.position.set(5,2,-5);const s=new cn(n,1);o.add(l,e,a,s)},ee={},Ln=(o=4,n=Math.PI/6)=>{const l=`spiral-${o}-${n}`;if(ee[l])return ee[l];const e=document.createElement("canvas"),a=e.getContext("2d"),s=1,r=1024,i=r/2;e.width=s,e.height=r,a.fillStyle="#fff",a.fillRect(0,0,s,i),a.fillStyle="#000",a.fillRect(0,i,s,i);const u=new _t(e);return u.rotation=n,u.magFilter=Et,u.wrapS=u.wrapT=Pt,u.repeat.set(1,o),ee[l]=u,u},kn=(o=32,n=Math.PI/2)=>{const l=`stripe-${o}-${n}`;if(ee[l])return ee[l];const e=document.createElement("canvas"),a=e.getContext("2d"),s=1,r=1024,i=r/3;e.width=s,e.height=r;for(let g=0;g<r;g++)a.fillStyle=g%2?"#000":"#fff",a.fillRect(0,i*g,s,i);const u=new _t(e);return u.rotation=n,u.magFilter=Et,u.wrapS=u.wrapT=Pt,u.repeat.set(1,o),ee[l]=u,u},An=()=>{const o=Ln(),n=kn();return[16777215,13840175,3134270].map(e=>{const a=new un({color:e,side:dn,transparent:!0,alphaMap:o}),s=a.clone();return s.alphaMap=n,{spiralMaterial:a,stripeMaterial:s}})},jn=()=>[new mn(.5),new pn(.25,1,120,1,!0),Rn(),new fn(1,.5,2,32,32,!0),new hn(1,.4,64,64),new yn(.5,64,64)];function Rn(){const l=new gn(Array(51).fill(null).map((e,a)=>{const s=a/50*Math.PI,r=5*Math.cos(s),i=5*Math.sin(s);return new T(r,i,0)}));return new vn(l,64,1.5,64,!1).rotateZ(-Math.PI/5).center()}let Ie;const k=[],Ye=new bn,Dn=new wn;let j=Ye,te,Q=new _n({antialias:!0});const Me=new En;Cn(Me);const Vn=jn(),Ee=An(),Nn=()=>{Ie=document.querySelector("#three .layout"),Ie.appendChild(Q.domElement),Q.setClearAlpha(0),Q.setAnimationLoop(o),te&&te.dispose(),te=new Sn(j,Q.domElement);function o(){Q.render(Me,j),Yn()}window.onresize=Pe,Pe()},pt=o=>{const n=document.querySelectorAll(".target .layout");if(In(),o){const l=[[0,4,0],[-4.5,-4,0],[4.5,-4,0]];n.forEach((e,a)=>{ft(e,"plane","fill",!1,o[a],a).position.fromArray(l[a])})}else ft(n[0],"camera","fill");Ue()},In=()=>{k.forEach(({cssLayout:o})=>Me.remove(o)),k.length=0},ft=(o,n,l,e=!1,a,s=0)=>{const r=new xn(o);return o.querySelectorAll(".layout > div").forEach((i,u)=>{const g=new Mn(i),b=new Tn(Vn[u],u%2?Ee[s].spiralMaterial:Ee[s].stripeMaterial);g.add(b),r.add(g)}),Me.add(r),k.push({cssLayout:r,fitType:n,objectFit:l,scroll:e,plane:a}),r},Te=o=>{const{cssLayout:n,fitType:l,objectFit:e,scroll:a,plane:s}=o;if(l==="camera")n.fitCamera(j,e),n.scroll(a,n.domElement);else{const[r,i]=s;n.fitPlane(r,i,e),n.scroll(!1)}},Ue=()=>k.forEach(o=>Te(o)),Yn=()=>{k.forEach(({cssLayout:o})=>o.updateObjects())},zn=(o,n,l)=>{k[o].plane=[n,l],Te(k[o])},$n=(o,n)=>{k[o].objectFit=n,Te(k[o])},Un=(o,n)=>{k[o].scroll=n,Te(k[o])},Fn=(o,n)=>{Ee[o].spiralMaterial.color.set(n),Ee[o].stripeMaterial.color.set(n)},Pe=()=>{j.near=.1,j.far=2,j.position.z=1,Pn(Ie,Q,j),te&&te.update(),Ue()},Hn=()=>{j=j===Ye?Dn:Ye,te.object=j,Pe()};function xt(o){return Zt()?(Gt(o),!0):!1}function ce(o){return typeof o=="function"?o():vt(o)}const Mt=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Kn=Object.prototype.toString,Xn=o=>Kn.call(o)==="[object Object]",ue=()=>{},ze=Wn();function Wn(){var o,n;return Mt&&((o=window==null?void 0:window.navigator)==null?void 0:o.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((n=window==null?void 0:window.navigator)==null?void 0:n.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}const ht={mounted:"mounted",updated:"updated",unmounted:"unmounted"};function Zn(...o){if(o.length!==1)return Bt(...o);const n=o[0];return typeof n=="function"?qt(Qt(()=>({get:n,set:ue}))):_(n)}function re(o){var n;const l=ce(o);return(n=l==null?void 0:l.$el)!=null?n:l}const Tt=Mt?window:void 0;function be(...o){let n,l,e,a;if(typeof o[0]=="string"||Array.isArray(o[0])?([l,e,a]=o,n=Tt):[n,l,e,a]=o,!n)return ue;Array.isArray(l)||(l=[l]),Array.isArray(e)||(e=[e]);const s=[],r=()=>{s.forEach(b=>b()),s.length=0},i=(b,h,m,y)=>(b.addEventListener(h,m,y),()=>b.removeEventListener(h,m,y)),u=K(()=>[re(n),ce(a)],([b,h])=>{if(r(),!b)return;const m=Xn(h)?{...h}:h;s.push(...l.flatMap(y=>e.map(w=>i(b,y,w,m))))},{immediate:!0,flush:"post"}),g=()=>{u(),r()};return xt(g),g}let yt=!1;function gt(o,n,l={}){const{window:e=Tt,ignore:a=[],capture:s=!0,detectIframe:r=!1}=l;if(!e)return ue;ze&&!yt&&(yt=!0,Array.from(e.document.body.children).forEach(m=>m.addEventListener("click",ue)),e.document.documentElement.addEventListener("click",ue));let i=!0;const u=m=>a.some(y=>{if(typeof y=="string")return Array.from(e.document.querySelectorAll(y)).some(w=>w===m.target||m.composedPath().includes(w));{const w=re(y);return w&&(m.target===w||m.composedPath().includes(w))}}),b=[be(e,"click",m=>{const y=re(o);if(!(!y||y===m.target||m.composedPath().includes(y))){if(m.detail===0&&(i=!u(m)),!i){i=!0;return}n(m)}},{passive:!0,capture:s}),be(e,"pointerdown",m=>{const y=re(o);i=!u(m)&&!!(y&&!m.composedPath().includes(y))},{passive:!0}),r&&be(e,"blur",m=>{setTimeout(()=>{var y;const w=re(o);((y=e.document.activeElement)==null?void 0:y.tagName)==="IFRAME"&&!(w!=null&&w.contains(e.document.activeElement))&&n(m)},0)})].filter(Boolean);return()=>b.forEach(m=>m())}const Gn={[ht.mounted](o,n){const l=!n.modifiers.bubble;if(typeof n.value=="function")o.__onClickOutside_stop=gt(o,n.value,{capture:l});else{const[e,a]=n.value;o.__onClickOutside_stop=gt(o,e,Object.assign({capture:l},a))}},[ht.unmounted](o){o.__onClickOutside_stop()}};function De(o){return typeof Window<"u"&&o instanceof Window?o.document.documentElement:typeof Document<"u"&&o instanceof Document?o.documentElement:o}function Ot(o){const n=window.getComputedStyle(o);if(n.overflowX==="scroll"||n.overflowY==="scroll"||n.overflowX==="auto"&&o.clientWidth<o.scrollWidth||n.overflowY==="auto"&&o.clientHeight<o.scrollHeight)return!0;{const l=o.parentNode;return!l||l.tagName==="BODY"?!1:Ot(l)}}function Bn(o){const n=o||window.event,l=n.target;return Ot(l)?!1:n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)}const ve=new WeakMap;function qn(o,n=!1){const l=_(n);let e=null;K(Zn(o),r=>{const i=De(ce(r));if(i){const u=i;ve.get(u)||ve.set(u,u.style.overflow),l.value&&(u.style.overflow="hidden")}},{immediate:!0});const a=()=>{const r=De(ce(o));!r||l.value||(ze&&(e=be(r,"touchmove",i=>{Bn(i)},{passive:!1})),r.style.overflow="hidden",l.value=!0)},s=()=>{var r;const i=De(ce(o));!i||!l.value||(ze&&(e==null||e()),i.style.overflow=(r=ve.get(i))!=null?r:"",ve.delete(i),l.value=!1)};return xt(s),Jt({get(){return l.value},set(r){r?a():s()}})}function Qn(){let o=!1;const n=_(!1);return(l,e)=>{if(n.value=e.value,o)return;o=!0;const a=qn(l,e.value);K(n,s=>a.value=s)}}Qn();const Jn=S({__name:"Rect",props:{popup:{},popupModifiers:{},animation:{},animationModifiers:{}},emits:["update:popup","update:animation"],setup(o){const n=I(o,"popup"),l=I(o,"animation"),e=_(),a=_(""),s=_(""),r=async()=>{if(i())return;const u=e.value,g=u.parentElement;a.value="pop",l.value="none",await J(),n.value="popup pop";const{width:b,height:h,top:m,left:y}=g.getBoundingClientRect(),{width:w,height:A,top:z,left:$}=u.getBoundingClientRect(),D=Math.min(b*.7/w,h*.7/A);s.value=`translate3d(${y+b/2-($+w/2)}px, ${m+h/2-(z+A/2)}px, 5px) scale(${D}, ${D})`},i=()=>n.value?(s.value="",setTimeout(()=>{n.value="",a.value=""},500),n.value="popup",!0):!1;return(u,g)=>Y((E(),P("div",{ref_key:"cell",ref:e,class:we(a.value),style:H({transform:s.value}),onClick:r},null,6)),[[vt(Gn),i]])}}),eo=d("u",null,"Animation",-1),to=["value"],no=S({__name:"Animation",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(o){const n=I(o,"modelValue"),l=["none","mixed","float","pulse","bounce","rotate","drop"];return(e,a)=>{const s=O("v-icon");return E(),P("b",null,[f(s,{name:"md-animation"}),eo,d("i",null,[X(R(n.value)+" ",1),f(s,{class:"r",name:"md-arrowbackiosnew-round",scale:.8})]),Y(d("select",{"onUpdate:modelValue":a[0]||(a[0]=r=>n.value=r)},[(E(),P(ne,null,de(l,r=>d("option",{value:r},R(r),9,to)),64))],512),[[xe,n.value]])])}}}),oo=d("u",null,"Layout",-1),ao=["value"],so=S({__name:"Grid",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(o){const n=I(o,"modelValue"),l=[...Array(2).fill(null).map((e,a)=>`flex-${a+1}`),...Array(6).fill(null).map((e,a)=>`grid-${a+1}`)];return(e,a)=>{const s=O("v-icon");return E(),P("b",null,[f(s,{name:"bi-grid-1x2-fill"}),oo,d("i",null,[X(R(n.value)+" ",1),f(s,{class:"r",name:"md-arrowbackiosnew-round",scale:.8})]),Y(d("select",{"onUpdate:modelValue":a[0]||(a[0]=r=>n.value=r)},[(E(),P(ne,null,de(l,r=>d("option",{value:r},R(r),9,ao)),64))],512),[[xe,n.value]])])}}}),lo=d("u",null,"Aspect",-1),io=["value"],St=S({__name:"Aspect",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(o){const n=I(o,"modelValue"),l=["9/21","9/18","9/16","1/1","5/4","4/3","3/2","16/9","18/9","21/9"];return(e,a)=>{const s=O("v-icon");return E(),P("b",null,[f(s,{name:"md-aspectratio-round",scale:1.2}),lo,d("i",null,[X(R(n.value)+" ",1),f(s,{class:"r",name:"md-arrowbackiosnew-round",scale:.8})]),Y(d("select",{"onUpdate:modelValue":a[0]||(a[0]=r=>n.value=r)},[(E(),P(ne,null,de(l,r=>d("option",{value:r},R(r),9,io)),64))],512),[[xe,n.value]])])}}}),ro=d("u",null,"Scroll",-1),co=S({__name:"Scroll",props:bt({index:{},fitPlane:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(o){const n=I(o,"modelValue"),l=e=>{n.value[e]=n.value[e]?0:1,J(()=>Un(o.index,!!n.value.x||!!n.value.y))};return(e,a)=>{const s=O("v-icon");return e.fitPlane?$e("",!0):(E(),P("b",{key:0,style:H({opacity:n.value.x||n.value.y?1:.5})},[f(s,{name:"bi-mouse-fill",scale:1.25}),ro,d("i",{onClick:a[0]||(a[0]=r=>l("x")),style:H({opacity:n.value.x?1:.5})}," X ",4),d("i",{onClick:a[1]||(a[1]=r=>l("y")),style:H({opacity:n.value.y?1:.5})},"Y",4)],4))}}}),uo=d("u",null,"Object fit",-1),mo=["value"],po=S({__name:"ObjectFit",props:{index:{}},setup(o){const n=_("fill"),l=["fill","cover","contain"];return K([n],()=>{$n(o.index,n.value)}),(e,a)=>{const s=O("v-icon");return E(),P("b",null,[f(s,{name:"bi-textarea-resize",scale:1.2}),uo,d("i",null,[X(R(n.value)+" ",1),f(s,{class:"r",name:"md-arrowbackiosnew-round",scale:.8})]),Y(d("select",{"onUpdate:modelValue":a[0]||(a[0]=r=>n.value=r)},[(E(),P(ne,null,de(l,r=>d("option",{value:r},R(r),9,mo)),64))],512),[[xe,n.value]])])}}}),fo=d("u",null,"Plane Size",-1),ho=S({__name:"PlaneSize",props:{index:{}},setup(o){const n=_(5),l=_(5),e=()=>zn(o.index,n.value,l.value);return(a,s)=>{const r=O("v-icon");return E(),P("b",null,[f(r,{name:"bi-textarea-resize",scale:1.2}),fo,d("i",null,[X(" X "),Y(d("input",{type:"number","onUpdate:modelValue":s[0]||(s[0]=i=>n.value=i),onInput:e},null,544),[[Ne,n.value,void 0,{number:!0,lazy:!0}]])]),d("i",null,[X(" Y "),Y(d("input",{type:"number","onUpdate:modelValue":s[1]||(s[1]=i=>l.value=i),onInput:e},null,544),[[Ne,l.value,void 0,{number:!0,lazy:!0}]])])])}}}),yo=d("u",null,"Color",-1),go=S({__name:"Color",props:bt({index:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(o){const n=I(o,"modelValue");return wt(()=>Fn(o.index,n.value)),(l,e)=>{const a=O("v-icon");return E(),P("b",null,[f(a,{name:"md-colorlens-round",scale:1.25}),yo,d("i",null,[d("s",{style:H({background:n.value})},null,4),Y(d("input",{type:"color","onUpdate:modelValue":e[0]||(e[0]=s=>n.value=s)},null,512),[[Ne,n.value]])])])}}}),vo={class:"container target"},bo=d("i",null,null,-1),Ve=S({__name:"Layout",props:{index:{},isPlanes:{type:Boolean}},setup(o){const n=_("grid-1"),l=_("1/1"),e=_("mixed"),a=_({x:0,y:0}),s=_(""),r=_(["#aaaaaa","#d32f2f","#50af58"][o.index]);return K([l,e,n],()=>J(Ue)),wt(()=>{o.isPlanes&&(a.value={x:0,y:0})}),(i,u)=>{const g=O("v-icon"),b=O("dropdown-menu");return E(),P("div",vo,[d("header",null,[f(b,null,{trigger:_e(()=>[f(g,{name:"html5-css3",scale:2.8}),d("i",null,[f(g,{class:"r",name:"md-arrowbackiosnew-round",scale:.8})])]),body:_e(()=>[f(no,{modelValue:e.value,"onUpdate:modelValue":u[0]||(u[0]=h=>e.value=h)},null,8,["modelValue"]),f(so,{modelValue:n.value,"onUpdate:modelValue":u[1]||(u[1]=h=>n.value=h)},null,8,["modelValue"]),f(St,{modelValue:l.value,"onUpdate:modelValue":u[2]||(u[2]=h=>l.value=h)},null,8,["modelValue"]),f(po,{index:i.index},null,8,["index"]),i.isPlanes?(E(),en(ho,{key:0,index:i.index},null,8,["index"])):$e("",!0),f(go,{index:i.index,modelValue:r.value,"onUpdate:modelValue":u[3]||(u[3]=h=>r.value=h)},null,8,["index","modelValue"]),f(co,{modelValue:a.value,"onUpdate:modelValue":u[4]||(u[4]=h=>a.value=h),index:i.index,fitPlane:i.isPlanes},null,8,["modelValue","index","fitPlane"])]),_:1})]),d("main",{ref:"main",style:H({"--aspect":l.value})},[d("div",{class:we(["layout",[e.value,n.value,s.value,a.value.x||a.value.y?"scroll":""]]),style:H({"--scale-x":a.value.x,"--scale-y":a.value.y,"--color":r.value})},[(E(),P(ne,null,de(6,h=>f(Jn,{class:"rect",popup:s.value,"onUpdate:popup":u[5]||(u[5]=m=>s.value=m),animation:e.value,"onUpdate:animation":u[6]||(u[6]=m=>e.value=m)},null,8,["popup","animation"])),64)),bo],6)],4)])}}}),wo=S({__name:"SwitchCamera",setup(o){const n=_("orthographic"),l=()=>{n.value=n.value==="perspective"?"orthographic":"perspective",Hn()};return(e,a)=>{const s=O("v-icon");return E(),P("b",{onClick:l},[f(s,{name:"bi-camera-reels-fill",scale:1.2}),d("u",null,R(n.value),1)])}}}),_o={id:"three",class:"container"},Eo=d("div",{class:"layout"},null,-1),Po=[Eo],xo=S({__name:"index",props:{modelValue:{default:"camera"},modelModifiers:{}},emits:["update:modelValue"],setup(o){const n=I(o,"modelValue"),l=_("1/1");return K([l],()=>J(Pe)),K([n],()=>{const e=n.value==="planes"?Array(3).fill(null).map(()=>[7,7]):void 0;J(()=>pt(e))}),tn(()=>{Nn(),J(pt)}),(e,a)=>{const s=O("v-icon"),r=O("dropdown-menu");return E(),P("div",_o,[d("header",null,[f(r,null,{trigger:_e(()=>[f(s,{name:"three",scale:2}),X(" Three.js "),d("i",null,[f(s,{class:"r",name:"md-arrowbackiosnew-round",scale:.8})])]),body:_e(()=>[f(St,{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=i=>l.value=i)},null,8,["modelValue"]),f(wo)]),_:1})]),d("main",{style:H({"--aspect":l.value})},Po,4)])}}}),Mo=S({__name:"FitType",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(o){const n=I(o,"modelValue"),l=()=>n.value=n.value==="camera"?"planes":"camera";return(e,a)=>{const s=O("v-icon");return E(),P("s",{onClick:l},[d("i",null,[f(s,{name:n.value==="camera"?"md-aspectratio-round":"bi-camera-reels-fill",scale:1.1},null,8,["name"])]),X(" Fit "+R(n.value==="camera"?"Planes":"Camera"),1)])}}}),To={id:"demo1"},Oo={class:"split"},So=d("u",null,null,-1),jo=S({__name:"Index",setup(o){const n=_(!1),l=_("camera"),e=_(!1);return K([l],()=>{e.value=l.value==="planes",e.value&&(n.value=!1)}),(a,s)=>{const r=O("v-icon");return E(),P("div",To,[d("main",{ref:"root",class:we({overlap:n.value})},[d("div",{class:we(["split",[e.value?"plane":""]])},[f(Ve,{index:0,isPlanes:e.value},null,8,["isPlanes"]),e.value?(E(),P(ne,{key:0},[f(Ve,{index:1,isPlanes:e.value},null,8,["isPlanes"]),f(Ve,{index:2,isPlanes:e.value},null,8,["isPlanes"])],64)):$e("",!0)],2),d("div",Oo,[f(xo,{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=i=>l.value=i)},null,8,["modelValue"])]),f(Mo,{modelValue:l.value,"onUpdate:modelValue":s[1]||(s[1]=i=>l.value=i)},null,8,["modelValue"]),Y(d("i",{onClick:s[2]||(s[2]=i=>n.value=!n.value)},[f(r,{name:n.value?"bi-arrows-angle-expand":"bi-arrows-angle-contract"},null,8,["name"])],512),[[nn,!e.value]]),So],2)])}}});export{jo as default};
